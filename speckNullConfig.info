ImgParams
{
    xCenter 40 ;in pixel coordinates on DARKNESS image
    yCenter 60

    lambdaOverD 2.71
    integrationTime 5

    xCtrlStart -20 ;-20 ;relative to center, in pixel coordinates
    xCtrlEnd  20 ;40
    yCtrlStart 0 ;12
    yCtrlEnd 45;45

    useBadPixMask true
    badPixMaskFile /mnt/data0/Darkness/20171006/snBinFiles/badPixelMask.img
    badPixFiltSize 5
    usFactor 2

    useFlatCal false
    flatCalFile /mnt/data0/Darkness/20171001/snBinFiles/flatWeights.bin
    
    useDarkSub false
    darkSubFile /mnt/data0/Darkness/20171006/snBinFiles/darkSub.bin

}

DMCal
{
    a 0
    b 0
    c 1; int time = 1s (2000 int time = 1s)
    angle 0;-1.232 ;-1.232 ;-1.252 ;-1.2055 ;-1.2321 ;-1.252 ;-1.216072;-70

}

NullingParams
{
    maxSpeckles 10
    speckleWindow 4
    exclusionZone 6
    nPhases 4
    apertureRadius 4
    defaultGain 0.8
    useBoxBlur false
    useGaussianBlur false

    scaleByVisibility true ;DO NOT turn both on at the same time
    useGainLoop false

    useRandomKvecOffset true
    usFactor 2 ;upsampling to use when detecting speckles

}

TrackingParams
{
    useVisibility true ;not used - visibility is turned on
    vis0 0.8 ;initial visibility estimate
    sigmaVis0 1 ;fudge factor for sigmaVis
    iterGain 1 ;gain of new measurement in state estimate (before scaling by sigma and vis)
    snrThresh 5 ;minimum signal to noise 

    updateCoords true ;update coordinates after nulling iteration
    distThresh 2 ;max distance to tag speckle as the "same" as nulled speckle
    nullIterWeight 0.3 ;state estimate penalty post-nulling. should be <=1

    enforceRedetection false ;speckle must be re-detected every iteration to remain active


}

P3KParams
{
    useCentoffs true
    centoffsMntDir /mnt/nfs/p3k/tables/cent_offsets/
    centoffsDir /p3k/tables/cent_offsets/
    grabCentoffsFn co_sn_temp
    loadCentoffsFn dark_centoffs_sn_temp_loop
    
    useIllumMat true
    clampCentoffs true
    clampVal 0.4
    
    flatmapMntDir /mnt/nfs/p3k/tables/hodm_map/ ;/mnt/data0/Darkness/20170928/ 
    flatmapDir /p3k/tables/hodm_map/
    grabFlatmapFile hodm_sn_temp ;hodm_flatmap_wl?
    loadFlatmapFile hodm_sn_temp_dark
    actMapFile p3kBinFiles/actMap.bin
    
    influenceMatFile ./p3kBinFiles/influenceMatCold.bin
    illumMatFile ./p3kBinFiles/illumMat.bin
            
    useSSH false

}
